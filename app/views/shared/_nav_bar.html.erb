<nav class="navbar navbar-dark bg-dark navbar-expand-lg">
    <span class="navbar-brand mb-0 h1 "><i class="fas fa-utensils"></i>MacroMeals</span>
        <ul class="navbar-nav">
        <li class="nav-item active">
            <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/users/new">Sign Up</a>
        </li>
        <% if session[:user_id] %>
          <li class="nav-item">
              <a class="nav-link" id="logout" href="/logout">Logout</a>
          </li>
        <% else %>
          <li class="nav-item">
              <a class="nav-link" href="/login">Log In</a>
          </li>
        <% end %>
        <li class="nav-item">
            <a class="nav-link" href="/about">About</a>
        </li>
        <% if session[:user_id] %>
          <li class="nav-item">
              <a class="nav-link" id="all_recipes" href="/recipes">All Recipes</a>
          </li>
        <% end %>
    </ul>
  </nav>
<script type="text/javascript" charset="utf-8">
  $(document).ready(
  function(){
    let recipes;
    $('#all_recipes').click((event) => {
       event.preventDefault();
       $('#user_info').hide();
       $.get('/recipes.json', (data) => {
          let recipes = JSONFormatter.parseJSON(data);
          $('#recipes').append('<ul>')
          for(let i = 0; i < recipes.length; i++){
            const recipe = recipes[i];
            $('#recipes').append(`<li>${recipe.user} <a href="/recipes/${recipe.id}"> ${recipe.recipeName}</a> ${recipe.macros}</li>`)
          }
          $('#recipes').append('</ul>')
       })
    });
    }
  )
</script>
